/* SOLDBUCH BOOK v3.1 — French labels, fixed layout */

.sb-wrapper { display:flex; flex-direction:column; align-items:center; padding:1rem 0; font-family:'Courier New',monospace; }

/* COVER */
.sb-cover { width:340px; max-width:88%; min-height:480px; margin:0 auto; border-radius:2px 5px 5px 2px; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:2rem 1.5rem; cursor:pointer; box-shadow:3px 3px 18px rgba(0,0,0,.5); position:relative; transition:transform .25s; text-align:center; }
.sb-cover:hover { transform:scale(1.02); }
.sb-cover::before { content:''; position:absolute; left:0; top:6px; bottom:6px; width:10px; background:rgba(0,0,0,.12); border-radius:2px 0 0 2px; }
.sb-cover-border { border:2px solid rgba(0,0,0,.25); padding:2rem 1rem; width:100%; flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.6rem; }
.sb-cover-eagle { height:90px; width:auto; opacity:.85; }
.sb-cover-title { font-size:1.7rem; font-weight:700; letter-spacing:4px; }
.sb-cover-sub { font-size:.65rem; letter-spacing:1px; opacity:.7; }
.sb-cover-branch { font-size:.95rem; font-weight:700; letter-spacing:2px; margin-top:.3rem; }
.sb-cover-name { position:absolute; top:8px; right:10px; font-size:.8rem; font-style:italic; opacity:.5; }
.sb-cover-hint { font-size:.6rem; opacity:.35; margin-top:.6rem; font-style:italic; }

.sb-theme-heer .sb-cover-eagle,.sb-theme-feld .sb-cover-eagle,.sb-theme-panzer .sb-cover-eagle { filter:brightness(0) invert(.85); }
.sb-theme-luftwaffe .sb-cover-eagle,.sb-theme-marine .sb-cover-eagle { filter:brightness(0) invert(.8); }
.sb-theme-sanit .sb-cover-eagle { filter:brightness(0) invert(.15); }

/* SPREAD */
/* Width in % so it scales to viewport — no fixed px that clips on iPad */
.sb-spread { display:flex; width:92%; max-width:900px; box-shadow:0 4px 25px rgba(0,0,0,.35); border-radius:2px; overflow:hidden; margin:0 auto; }

/* PAGE — FORCED 50%, no grow, no shrink, flex column to fill */
.sb-page {
  flex: 0 0 50%; width:50%; max-width:50%;
  padding:8px 6px; position:relative;
  font-size:.6rem; line-height:1.35; min-height:500px;
  box-sizing:border-box; overflow:hidden;
  display:flex; flex-direction:column;
}
.sb-page-l { border-right:1px solid rgba(0,0,0,.1); }
.sb-spacer { flex:1; min-height:8px; }

/* PAGE NUMBER */
.sb-pagenum { text-align:center; font-size:.45rem; opacity:.3; margin-top:auto; padding-top:4px; }

/* TEXT */
.sb-ink { color:#1a3a6a; font-weight:600; font-size:.6rem; }
.sb-ink-sm { font-size:.52rem; }
.sb-center { text-align:center; }
.sb-u { text-decoration:underline; }
.sb-label { font-size:.52rem; font-weight:600; opacity:.75; margin:3px 0; }
.sb-sm { font-size:.46rem; opacity:.55; margin:2px 0; }
.sb-xs { font-size:.42rem; opacity:.5; line-height:1.2; margin:2px 0; }
h3.sb-center { font-size:.75rem; margin:.15rem 0; }
h4.sb-center { font-size:.62rem; margin:.12rem 0; font-weight:700; }

/* TABLES — ALL fixed layout, 100% width, no exceptions */
.sb-t {
  width:100%; border-collapse:collapse; margin:3px 0;
  table-layout:fixed; box-sizing:border-box;
  min-width:0 !important; /* Override global.css min-width:600px */
}
.sb-t th,.sb-t td,.sb-page table th,.sb-page table td {
  border:1px solid rgba(0,0,0,.22); padding:3px 4px;
  font-size:.52rem; vertical-align:middle;
  word-wrap:break-word; overflow-wrap:break-word;
  word-break:break-word;
  height:3.2em;
}
.sb-t th { background:rgba(0,0,0,.04); font-weight:700; text-align:center; font-size:.4rem; white-space:pre-line; opacity:.75; }

/* Label-value rows */
.sb-lbl-cell { font-size:.48rem; font-weight:600; opacity:.7; width:40%; word-break:break-word; }
.sb-val-cell { }

/* Grid tables */
.sb-t-grid th,.sb-t-grid td { font-size:.36rem; padding:1px 2px; }

/* PHOTO */
.sb-photo { width:55px; height:70px; border:1.5px solid rgba(0,0,0,.3); margin:0 auto 3px; overflow:hidden; }
.sb-photo img { width:100%; height:100%; object-fit:cover; }
.sb-photo-empty { width:100%; height:100%; display:flex; align-items:center; justify-content:center; font-size:.36rem; opacity:.25; }

/* SIGNATURES */
.sb-sig-area { text-align:center; margin:3px 0; }
.sb-sig-box { display:inline-flex; align-items:flex-end; justify-content:center; border-bottom:1px solid rgba(0,0,0,.3); width:90px; height:22px; }
.sb-sig-box img { max-height:20px; max-width:80px; }
.sb-sig-sm { width:70px; height:18px; }
.sb-sig-sm img { max-height:16px; max-width:60px; }
.sb-stamp-row { display:flex; justify-content:space-between; align-items:flex-end; margin-top:2px; }
.sb-stamp-img { max-height:28px; opacity:.5; }

/* IMPFUNGEN */
.sb-impf { margin-bottom:3px; }

/* TEETH */
.sb-teeth { width:80%; margin:3px auto; text-align:center; font-weight:700; font-size:.52rem; letter-spacing:2px; }
.sb-teeth td { padding:3px; }

/* LINES */
.sb-lined { margin-top:2px; }
.sb-line { border-bottom:1px dotted rgba(0,0,0,.15); height:3em; }

/* RULES */
.sb-rules { font-size:.48rem; line-height:1.6; padding-left:.6rem; margin:0; flex:1; }
.sb-rules li { margin-bottom:.6rem; }

/* URLAUB */
.sb-urlaub { margin-bottom:3px; padding-bottom:2px; border-bottom:1px solid rgba(0,0,0,.06); }

/* BACK COVER */
.sb-back-cover { display:flex; align-items:center; justify-content:center; flex:1; text-align:center; padding:1rem; }
.sb-back-cover p { font-size:.46rem; line-height:1.4; opacity:.7; }

/* NAV */
.sb-nav { display:flex; justify-content:center; gap:.4rem; margin-top:.5rem; align-items:center; flex-wrap:wrap; }
.sb-nav button { font-family:'Courier New',monospace; padding:.2rem .5rem; cursor:pointer; background:rgba(0,0,0,.05); border:1px solid rgba(0,0,0,.2); border-radius:3px; font-size:.6rem; }
.sb-nav button:hover { background:rgba(0,0,0,.1); }
.sb-nav button:disabled { opacity:.3; cursor:default; }
.sb-nav-info { font-size:.6rem; opacity:.45; }

/* THEMES */
.sb-theme-heer .sb-cover { background:linear-gradient(145deg,#7a4a3a,#5a3425); color:#e8d8c0; }
.sb-theme-heer .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-heer .sb-page-dark { background:#e2d8be; }
.sb-theme-luftwaffe .sb-cover { background:linear-gradient(145deg,#536d7a,#3f5565); color:#d8e0e6; }
.sb-theme-luftwaffe .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-luftwaffe .sb-page-dark { background:#6b8a9a; color:#1a2a33; }
.sb-theme-feld .sb-cover { background:linear-gradient(145deg,#4a5540,#384530); color:#d8d4c0; }
.sb-theme-feld .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-feld .sb-page-dark { background:#5a6a4e; color:#e8e0c8; }
.sb-theme-panzer .sb-cover { background:linear-gradient(145deg,#3a3a3a,#252525); color:#d8d0b8; }
.sb-theme-panzer .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-panzer .sb-page-dark { background:#4a4a4a; color:#d8d0b8; }
.sb-theme-sanit .sb-cover { background:linear-gradient(145deg,#e0d8c0,#ccc4aa); color:#2c2416; }
.sb-theme-sanit .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-sanit .sb-page-dark { background:#d8d0b8; }
.sb-theme-marine .sb-cover { background:linear-gradient(145deg,#2a3a5a,#1e2e48); color:#d0d8e8; }
.sb-theme-marine .sb-page { background:#f0e6cc; color:#2c2416; }
.sb-theme-marine .sb-page-dark { background:#3a4a6a; color:#d0d8e8; }

/* CLICKABLE SIGNATURES */
.sb-sig-clickable { cursor:pointer; }
.sb-sig-clickable:hover .sb-sig-empty { background:rgba(0,0,0,.08); }
.sb-sig-empty { font-size:.42rem; color:#555; display:inline-flex; align-items:center; justify-content:center; border:1px dashed rgba(0,0,0,.3); border-radius:2px; padding:2px 8px; }
.sb-sig-img { max-height:28px; max-width:100px; }
.sb-stamp-clickable { cursor:pointer; font-size:.4rem; color:#555; border:1px dashed rgba(0,0,0,.3); border-radius:2px; padding:3px 8px; text-align:center; }
.sb-stamp-clickable:hover { background:rgba(0,0,0,.08); }

/* STAMP PICKER MODAL */
.sb-modal-overlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,.5); z-index:1000; display:flex; align-items:center; justify-content:center; }
.sb-modal { background:#f0e6cc; border:2px solid #8b7355; border-radius:4px; padding:1rem; max-width:400px; width:90%; max-height:70vh; overflow-y:auto; font-family:'Courier New',monospace; }
.sb-modal h3 { margin:0 0 .5rem; font-size:.9rem; text-align:center; }
.sb-stamp-grid { display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
.sb-stamp-option { cursor:pointer; border:1px solid rgba(0,0,0,.2); border-radius:3px; padding:6px; text-align:center; width:100px; transition:background .2s; }
.sb-stamp-option:hover { background:rgba(0,0,0,.08); }
.sb-stamp-option img { max-width:80px; max-height:60px; display:block; margin:0 auto 4px; }
.sb-stamp-option span { font-size:.45rem; display:block; }

/* RESPONSIVE */
@media(max-width:768px){
  .sb-spread{flex-direction:column;max-width:100%}
  .sb-page{flex:0 0 100%;width:100%;max-width:100%;min-height:auto;padding:8px}
  .sb-page-l{border-right:none;border-bottom:1px solid rgba(0,0,0,.1)}
  .sb-cover{width:85%;min-height:380px}
}

/* Attestation table scroll if overflow */
.sb-att-wrap { max-height: 400px; overflow-y: auto; }
.sb-att-wrap table { margin-bottom: 0; }
.sb-att-wrap td { vertical-align: middle; position: relative; overflow: visible; }

/* Attestation stamp+signature: stamp overflows like a real Dienststempel */
.sb-att-stamp { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-8deg); opacity: 0.7; pointer-events: none; z-index: 2; height: 55px; width: auto; }
/* Pure signature stays contained */
.sb-att-sig { max-height: 22px; max-width: 55px; object-fit: contain; display: block; }
/* Pending edit indicator */
.sb-pending { background: rgba(243,156,18,0.15); }

/* PAGE 1 — Real Soldbuch style */
.sb-page1-grade { font-size: 1.1rem; margin: 4px 0 0 0; }
.sb-page1-name { font-size: 1rem; margin: 10px 0 0 0; }
.sb-grade-box { border: 1.5px solid var(--text-main, #333); padding: 4px 6px; margin: 6px 0; }
.sb-grade-box .sb-t-inner { border: none; margin: 0; }
.sb-grade-box .sb-t-inner td { border: none; border-bottom: 1px dotted #999; padding: 2px 4px; }
.sb-grade-box .sb-t-inner tr:last-child td { border-bottom: none; }
.sb-grade-box-labels { display: flex; justify-content: space-around; font-size: .55rem; color: var(--text-muted, #777); margin-top: 2px; }
.sb-page1-field { font-size: .7rem; margin: 3px 0; line-height: 1.4; }

